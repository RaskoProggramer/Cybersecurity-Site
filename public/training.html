<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="favicon.ico.png">
    <title>Cybersecurity Training Portal</title>
    <link rel="stylesheet" href="style.css">
    <script src="script1.js"></script>
    <script src="chatbot.js"></script>
    <script src="incident.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <style>
        /* Theme Variables */
        :root {
            --bg-primary: #000000;
            --bg-secondary: #1a1a1a;
            --bg-tertiary: rgba(26, 26, 26, 0.8);
            --text-primary: #ffffff;
            --text-secondary: #d1d5db;
            --text-muted: #9ca3af;
            --accent-color: #00ffff;
            --accent-secondary: #0080ff;
            --border-color: rgba(0, 255, 255, 0.3);
            --border-muted: rgba(255, 255, 255, 0.1);
            --card-bg: rgba(26, 26, 26, 0.8);
            --gradient-bg: linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #000000 100%);
            --success-color: #10b981;
            --warning-color: #f97316;
            --error-color: #ef4444;
        }

        [data-theme="light"] {
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: rgba(248, 250, 252, 0.9);
            --text-primary: #1f2937;
            --text-secondary: #374151;
            --text-muted: #6b7280;
            --accent-color: #0891b2;
            --accent-secondary: #0369a1;
            --border-color: rgba(8, 145, 178, 0.3);
            --border-muted: rgba(0, 0, 0, 0.1);
            --card-bg: rgba(255, 255, 255, 0.9);
            --gradient-bg: linear-gradient(135deg, #ffffff 0%, #f8fafc 50%, #ffffff 100%);
            --success-color: #059669;
            --warning-color: #d97706;
            --error-color: #dc2626;
        }

        /* Theme Toggle Button Styles */
        .theme-toggle {
            position: fixed;
            top: 600px;
            right: 20px;
            z-index: 1000;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 50px;
            padding: 8px 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: var(--text-primary);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
            border-color: var(--accent-color);
        }

        .theme-toggle-icon {
            font-size: 16px;
            transition: transform 0.3s ease;
        }

        .theme-toggle:hover .theme-toggle-icon {
            transform: rotate(180deg);
        }

        /* Update body background to use CSS variable */
        body {
            background: var(--gradient-bg) !important;
            background-attachment: fixed !important;
            color: var(--text-primary) !important;
            transition: all 0.3s ease;
        }

        /* Global theme-aware styles */
        .themed-bg-primary { background-color: var(--bg-primary) !important; }
        .themed-bg-secondary { background-color: var(--bg-secondary) !important; }
        .themed-text-primary { color: var(--text-primary) !important; }
        .themed-text-secondary { color: var(--text-secondary) !important; }
        .themed-text-muted { color: var(--text-muted) !important; }
        .themed-border { border-color: var(--border-color) !important; }
    </style>
</head>
<body>
    <!-- Theme Toggle Button -->
    <button class="theme-toggle" id="themeToggle">
        <span class="theme-toggle-icon" id="themeIcon">üåô</span>
        <span id="themeText">Dark Mode</span>
    </button>

    <header>
    <div class="logo">
      <img src="asset/SP.png" alt="CyberSP Logo">
    </div>
    <input type="checkbox" id="nav-toggle" class="nav-toggle">
    <label for="nav-toggle" class="nav-toggle-icon" aria-label="Toggle navigation">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </label>
    <nav class="main-nav">
      <ul>
         <li><a href="./home.html">Home</a></li>
        <li><a href="./training.html">Training Programme</a></li>
        <li><a href="./news.html">News & Events</a></li>
        <li><a href="./Threat.html">Threat Intelligence</a></li>
        <li><a href="./AboutUs.html">About Us</a></li>
        <li><a href="./resources.html">Policies & Resources</a></li>
      </ul>
    </nav>
    <button class="report-incident">Report an Incident</button>
  </header>

    <div id="root"></div>

    <footer>
        <div class="footer-column">
            <h3>Quick Links</h3>
            <ul>
                <li><a href="#">Policies</a></li>
                <li><a href="#">Training</a></li>
                <li><a href="#">Incident Reporting</a></li>
            </ul>
        </div>
        <div class="footer-column">
            <h3>Newsletter</h3>
            <p>Sign up for security updates:</p>
            <div class="newsletter-form">
                <input type="email" placeholder="Your email address">
                <button>Sign Up</button>
            </div>
        </div>
        <div class="footer-column">
            <h3>Follow Us</h3>
            <div class="social-icons">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-linkedin-in"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
            </div>
        </div>
    </footer>

    <script>
        // Theme Toggle Functionality
        class ThemeManager {
            constructor() {
                this.theme = localStorage.getItem('theme') || 'dark';
                this.init();
            }

            init() {
                this.applyTheme(this.theme);
                this.bindEvents();
            }

            bindEvents() {
                const toggle = document.getElementById('themeToggle');
                if (toggle) {
                    toggle.addEventListener('click', () => this.toggleTheme());
                }
            }

            applyTheme(theme) {
                const root = document.documentElement;
                const icon = document.getElementById('themeIcon');
                const text = document.getElementById('themeText');
                
                root.setAttribute('data-theme', theme);
                
                if (theme === 'light') {
                    if (icon) icon.textContent = '‚òÄÔ∏è';
                    if (text) text.textContent = 'Light Mode';
                } else {
                    if (icon) icon.textContent = 'üåô';
                    if (text) text.textContent = 'Dark Mode';
                }
                
                this.theme = theme;
                localStorage.setItem('theme', theme);
                
                // Trigger a custom event for React components to listen to
                window.dispatchEvent(new CustomEvent('themeChanged', { detail: { theme } }));
            }

            toggleTheme() {
                const newTheme = this.theme === 'dark' ? 'light' : 'dark';
                this.applyTheme(newTheme);
            }

            getTheme() {
                return this.theme;
            }
        }

        // Initialize theme manager
        window.themeManager = new ThemeManager();
    </script>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // Lucide React Icons (simplified inline versions)
        const Shield = ({ className, ...props }) => (
            <svg className={className} {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
            </svg>
        );

        const Target = ({ className, ...props }) => (
            <svg className={className} {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"></circle>
                <circle cx="12" cy="12" r="6"></circle>
                <circle cx="12" cy="12" r="2"></circle>
            </svg>
        );

        const Trophy = ({ className, ...props }) => (
            <svg className={className} {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 21l4-7 4 7M3 11l3-3m0 0l3 3m-3-3v8M21 11l-3-3m0 0l-3 3m3-3v8" />
            </svg>
        );

        const Play = ({ className, ...props }) => (
            <svg className={className} {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <polygon points="5,3 19,12 5,21"></polygon>
            </svg>
        );

        const CheckCircle = ({ className, ...props }) => (
            <svg className={className} {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        );

        const AlertTriangle = ({ className, ...props }) => (
            <svg className={className} {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.502 0L4.268 16.5c-.77.833.192 2.5 1.732 2.5z" />
            </svg>
        );

        const Lock = ({ className, ...props }) => (
            <svg className={className} {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                <circle cx="12" cy="16" r="1"></circle>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
            </svg>
        );

        const Zap = ({ className, ...props }) => (
            <svg className={className} {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <polygon points="13,2 3,14 12,14 11,22 21,10 12,10"></polygon>
            </svg>
        );

        const Filter = ({ className, ...props }) => (
            <svg className={className} {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <polygon points="22,3 2,3 10,12.46 10,19 14,21 14,12.46"></polygon>
            </svg>
        );

        const Globe = ({ className, ...props }) => (
            <svg className={className} {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="2" y1="12" x2="22" y2="12"></line>
                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
            </svg>
        );

        const Server = ({ className, ...props }) => (
            <svg className={className} {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <rect x="2" y="3" width="20" height="4" rx="1" ry="1"></rect>
                <rect x="2" y="9" width="20" height="4" rx="1" ry="1"></rect>
                <rect x="2" y="15" width="20" height="4" rx="1" ry="1"></rect>
                <line x1="6" y1="5" x2="6.01" y2="5"></line>
                <line x1="6" y1="11" x2="6.01" y2="11"></line>
                <line x1="6" y1="17" x2="6.01" y2="17"></line>
            </svg>
        );

        const Wifi = ({ className, ...props }) => (
            <svg className={className} {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M1.42 9a16 16 0 0 1 21.16 0"></path>
                <path d="M5 12.55a11 11 0 0 1 14.08 0"></path>
                <path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path>
                <line x1="12" y1="20" x2="12.01" y2="20"></line>
            </svg>
        );

        const Eye = ({ className, ...props }) => (
            <svg className={className} {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
            </svg>
        );

        const Users = ({ className, ...props }) => (
            <svg className={className} {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
        );

        const Database = ({ className, ...props }) => (
            <svg className={className} {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <ellipse cx="12" cy="5" rx="9" ry="3"></ellipse>
                <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path>
                <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>
            </svg>
        );

        const Smartphone = ({ className, ...props }) => (
            <svg className={className} {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
                <line x1="12" y1="18" x2="12.01" y2="18"></line>
            </svg>
        );

        // Hook to listen for theme changes
        const useTheme = () => {
            const [theme, setTheme] = useState(window.themeManager?.getTheme() || 'dark');

            useEffect(() => {
                const handleThemeChange = (event) => {
                    setTheme(event.detail.theme);
                };

                window.addEventListener('themeChanged', handleThemeChange);
                return () => window.removeEventListener('themeChanged', handleThemeChange);
            }, []);

            return theme;
        };

        // Helper function to get theme-aware styles
        const getThemedStyles = (theme) => {
            const isDark = theme === 'dark';
            
            return {
                background: isDark 
                    ? 'linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #000000 100%)'
                    : 'linear-gradient(135deg, #ffffff 0%, #f8fafc 50%, #ffffff 100%)',
                textColor: isDark ? '#ffffff' : '#1f2937',
                accentColor: isDark ? '#00ffff' : '#0891b2',
                cardBg: isDark ? 'rgba(26, 26, 26, 0.8)' : 'rgba(255, 255, 255, 0.9)',
                borderColor: isDark ? 'rgba(0, 255, 255, 0.3)' : 'rgba(8, 145, 178, 0.3)',
                mutedText: isDark ? '#9ca3af' : '#6b7280',
                secondaryBg: isDark ? '#1a1a1a' : '#f8fafc'
            };
        };

        const TrainingPortal = () => {
            const theme = useTheme();
            const themedStyles = getThemedStyles(theme);
            
            const [activeModule, setActiveModule] = useState(null);
            const [selectedCourse, setSelectedCourse] = useState(null);
            const [difficultyFilter, setDifficultyFilter] = useState('all');
            const [searchTerm, setSearchTerm] = useState('');
            const [userProgress, setUserProgress] = useState({
                phishing: { completed: 0, total: 5, score: 0 },
                ransomware: { completed: 0, total: 3, score: 0 },
                hygiene: { completed: 0, total: 4, score: 0 },
                incident: { completed: 0, total: 4, score: 0 },
                network: { completed: 0, total: 6, score: 0 },
                mobile: { completed: 0, total: 3, score: 0 },
                compliance: { completed: 0, total: 5, score: 0 },
                forensics: { completed: 0, total: 7, score: 0 },
                cloud: { completed: 0, total: 5, score: 0 },
                threat: { completed: 0, total: 6, score: 0 },
                social: { completed: 0, total: 4, score: 0 },
                privacy: { completed: 0, total: 4, score: 0 }
            });

            // Check URL parameters for course selection
            useEffect(() => {
                const urlParams = new URLSearchParams(window.location.search);
                const courseParam = urlParams.get('course');
                if (courseParam && modules[courseParam]) {
                    setSelectedCourse(courseParam);
                }
            }, []);
            
            const [leaderboard, setLeaderboard] = useState([
                { name: 'Alex Chen', score: 2850, avatar: 'üë®‚Äçüíª' },
                { name: 'Sarah Kim', score: 2720, avatar: 'üë©‚Äçüíº' },
                { name: 'Mike Johnson', score: 2680, avatar: 'üë®‚Äçüî¨' },
                { name: 'Lisa Wang', score: 2540, avatar: 'üë©‚Äçüéì' },
                { name: 'David Brown', score: 2420, avatar: 'üë®‚Äç‚öïÔ∏è' }
            ]);
            const [currentQuiz, setCurrentQuiz] = useState(null);
            const [quizAnswers, setQuizAnswers] = useState({});
            const [showResults, setShowResults] = useState(false);

            const modules = {
                // Beginner Level
                phishing: {
                    title: 'Phishing Awareness',
                    icon: Target,
                    color: 'bg-green-600',
                    difficulty: 'Beginner',
                    duration: '2 hours',
                    description: 'Learn to identify and defend against phishing attacks',
                    lessons: [
                        'Understanding Phishing Tactics',
                        'Email Red Flags',
                        'Social Engineering Techniques',
                        'Reporting Procedures',
                        'Real-world Case Studies'
                    ]
                },
                hygiene: {
                    title: 'Cyber Hygiene Basics',
                    icon: Shield,
                    color: 'bg-green-600',
                    difficulty: 'Beginner',
                    duration: '1.5 hours',
                    description: 'Essential practices for digital security',
                    lessons: [
                        'Password Security',
                        'Software Updates',
                        'Safe Browsing',
                        'Data Backup Strategies'
                    ]
                },
                mobile: {
                    title: 'Mobile Security Fundamentals',
                    icon: Smartphone,
                    color: 'bg-green-600',
                    difficulty: 'Beginner',
                    duration: '1 hour',
                    description: 'Securing mobile devices and applications',
                    lessons: [
                        'Mobile Device Management',
                        'App Security Best Practices',
                        'Public WiFi Safety'
                    ]
                },
                social: {
                    title: 'Social Media Security',
                    icon: Users,
                    color: 'bg-green-600',
                    difficulty: 'Beginner',
                    duration: '1.5 hours',
                    description: 'Protecting your privacy on social platforms',
                    lessons: [
                        'Privacy Settings Configuration',
                        'Information Sharing Guidelines',
                        'Scam Recognition',
                        'Account Security'
                    ]
                },

                // Intermediate Level
                ransomware: {
                    title: 'Ransomware Defense & Response',
                    icon: Lock,
                    color: 'bg-orange-600',
                    difficulty: 'Intermediate',
                    duration: '3 hours',
                    description: 'Interactive exercises to understand ransomware threats',
                    lessons: [
                        'Ransomware Basics',
                        'Attack Simulation',
                        'Response Protocols'
                    ]
                },
                incident: {
                    title: 'Incident Response Training',
                    icon: AlertTriangle,
                    color: 'bg-orange-600',
                    difficulty: 'Intermediate',
                    duration: '4 hours',
                    description: 'Learn to respond effectively to security incidents',
                    lessons: [
                        'Incident Classification',
                        'Response Team Coordination',
                        'Evidence Collection',
                        'Communication Protocols'
                    ]
                },
                network: {
                    title: 'Network Security Essentials',
                    icon: Wifi,
                    color: 'bg-orange-600',
                    difficulty: 'Intermediate',
                    duration: '5 hours',
                    description: 'Understanding network vulnerabilities and defenses',
                    lessons: [
                        'Network Architecture Security',
                        'Firewall Configuration',
                        'VPN Implementation',
                        'Intrusion Detection',
                        'Network Monitoring',
                        'Wireless Security'
                    ]
                },
                cloud: {
                    title: 'Cloud Security Fundamentals',
                    icon: Server,
                    color: 'bg-orange-600',
                    difficulty: 'Intermediate',
                    duration: '3.5 hours',
                    description: 'Securing cloud infrastructure and services',
                    lessons: [
                        'Cloud Security Models',
                        'Access Control Management',
                        'Data Encryption in Cloud',
                        'Security Monitoring',
                        'Compliance Requirements'
                    ]
                },

                // Advanced Level
                compliance: {
                    title: 'Regulatory Compliance',
                    icon: Database,
                    color: 'bg-red-600',
                    difficulty: 'Advanced',
                    duration: '6 hours',
                    description: 'Navigate complex regulatory requirements',
                    lessons: [
                        'GDPR Compliance',
                        'SOX Requirements',
                        'HIPAA Guidelines',
                        'PCI DSS Standards',
                        'Audit Preparation'
                    ]
                },
                forensics: {
                    title: 'Digital Forensics',
                    icon: Eye,
                    color: 'bg-red-600',
                    difficulty: 'Advanced',
                    duration: '8 hours',
                    description: 'Investigate and analyze digital evidence',
                    lessons: [
                        'Evidence Acquisition',
                        'File System Analysis',
                        'Network Traffic Analysis',
                        'Memory Forensics',
                        'Timeline Creation',
                        'Report Writing',
                        'Court Testimony Preparation'
                    ]
                },
                threat: {
                    title: 'Advanced Threat Hunting',
                    icon: Target,
                    color: 'bg-red-600',
                    difficulty: 'Advanced',
                    duration: '7 hours',
                    description: 'Proactive threat detection and analysis',
                    lessons: [
                        'Threat Intelligence',
                        'IOC Development',
                        'Hunting Methodologies',
                        'SIEM Analysis',
                        'Behavioral Analytics',
                        'Attribution Techniques'
                    ]
                },
                privacy: {
                    title: 'Data Privacy & Protection',
                    icon: Shield,
                    color: 'bg-red-600',
                    difficulty: 'Advanced',
                    duration: '5 hours',
                    description: 'Advanced data protection strategies',
                    lessons: [
                        'Privacy Impact Assessments',
                        'Data Classification',
                        'Anonymization Techniques',
                        'Cross-border Data Transfer'
                    ]
                }
            };

            const quizzes = {
                phishing: {
                    title: 'Phishing Detection Challenge',
                    questions: [
                        {
                            question: 'Which of these email characteristics is the BIGGEST red flag for phishing?',
                            options: [
                                'Generic greeting like "Dear Customer"',
                                'Urgent language demanding immediate action',
                                'Spelling mistakes in the email',
                                'Links that don\'t match the displayed text'
                            ],
                            correct: 3
                        },
                        {
                            question: 'What should you do if you receive a suspicious email?',
                            options: [
                                'Click the link to verify if it\'s legitimate',
                                'Forward it to colleagues to warn them',
                                'Report it to IT security immediately',
                                'Delete it and ignore it'
                            ],
                            correct: 2
                        }
                    ]
                },
                ransomware: {
                    title: 'Ransomware Response Quiz',
                    questions: [
                        {
                            question: 'If your computer is infected with ransomware, what\'s the FIRST thing you should do?',
                            options: [
                                'Pay the ransom immediately',
                                'Disconnect from the network',
                                'Try to remove the malware yourself',
                                'Restart your computer'
                            ],
                            correct: 1
                        }
                    ]
                },
                hygiene: {
                    title: 'Cyber Hygiene Assessment',
                    questions: [
                        {
                            question: 'How often should you update your passwords?',
                            options: [
                                'Once a year',
                                'Every 3-6 months',
                                'Only when there\'s a security breach',
                                'Never, if they\'re strong enough'
                            ],
                            correct: 1
                        }
                    ]
                }
            };

            // Filter modules based on difficulty and search term
            const filteredModules = useMemo(() => {
                return Object.entries(modules).filter(([key, module]) => {
                    const matchesDifficulty = difficultyFilter === 'all' || module.difficulty === difficultyFilter;
                    const matchesSearch = module.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                                        module.description.toLowerCase().includes(searchTerm.toLowerCase());
                    return matchesDifficulty && matchesSearch;
                });
            }, [difficultyFilter, searchTerm]);

            const startQuiz = (moduleKey) => {
                setCurrentQuiz({ module: moduleKey, ...quizzes[moduleKey] });
                setQuizAnswers({});
                setShowResults(false);
            };

            const handleQuizAnswer = (questionIndex, answerIndex) => {
                setQuizAnswers(prev => ({
                    ...prev,
                    [questionIndex]: answerIndex
                }));
            };

            const submitQuiz = () => {
                const quiz = currentQuiz;
                let correct = 0;
                quiz.questions.forEach((q, index) => {
                    if (quizAnswers[index] === q.correct) correct++;
                });
                
                const score = Math.round((correct / quiz.questions.length) * 100);
                
                setUserProgress(prev => ({
                    ...prev,
                    [currentQuiz.module]: {
                        ...prev[currentQuiz.module],
                        completed: prev[currentQuiz.module].completed + 1,
                        score: Math.max(prev[currentQuiz.module].score, score)
                    }
                }));
                
                setShowResults(true);
            };

            const getTotalScore = () => {
                return Object.values(userProgress).reduce((total, module) => total + module.score, 0);
            };

            const getOverallProgress = () => {
                const totalCompleted = Object.values(userProgress).reduce((total, module) => total + module.completed, 0);
                const totalLessons = Object.values(userProgress).reduce((total, module) => total + module.total, 0);
                return Math.round((totalCompleted / totalLessons) * 100);
            };

            const getDifficultyColor = (difficulty) => {
                const isDark = theme === 'dark';
                switch (difficulty) {
                    case 'Beginner': 
                        return isDark 
                            ? 'text-green-400 bg-green-400/20 border-green-400' 
                            : 'text-green-600 bg-green-50 border-green-300';
                    case 'Intermediate': 
                        return isDark 
                            ? 'text-orange-400 bg-orange-400/20 border-orange-400' 
                            : 'text-orange-600 bg-orange-50 border-orange-300';
                    case 'Advanced': 
                        return isDark 
                            ? 'text-red-400 bg-red-400/20 border-red-400' 
                            : 'text-red-600 bg-red-50 border-red-300';
                    default: 
                        return isDark 
                            ? 'text-gray-400 bg-gray-400/20 border-gray-400' 
                            : 'text-gray-600 bg-gray-50 border-gray-300';
                }
            };

            const getDifficultyStats = () => {
                const stats = { Beginner: 0, Intermediate: 0, Advanced: 0 };
                Object.values(modules).forEach(module => {
                    stats[module.difficulty]++;
                });
                return stats;
            };

            return React.createElement('div', { 
                className: 'min-h-screen',
                style: { 
                    background: themedStyles.background,
                    backgroundAttachment: 'fixed',
                    color: themedStyles.textColor,
                    transition: 'all 0.3s ease'
                }
            },
                // Training Portal Header
                React.createElement('div', { 
                    className: 'border-b',
                    style: { 
                        background: themedStyles.cardBg,
                        borderBottomColor: themedStyles.borderColor,
                        backdropFilter: 'blur(10px)'
                    }
                },
                    React.createElement('div', { className: 'max-w-7xl mx-auto px-6 py-4' },
                        React.createElement('div', { className: 'flex items-center justify-between' },
                            React.createElement('div', { className: 'flex items-center space-x-3' },
                                React.createElement(Shield, { 
                                    className: 'h-8 w-8',
                                    style: { color: themedStyles.accentColor }
                                }),
                                React.createElement('div', null,
                                    React.createElement('h1', { 
                                        className: 'text-2xl font-bold',
                                        style: { 
                                            background: `linear-gradient(to right, ${themedStyles.accentColor}, ${themedStyles.textColor})`,
                                            WebkitBackgroundClip: 'text',
                                            WebkitTextFillColor: 'transparent',
                                            backgroundClip: 'text'
                                        }
                                    }, 'CyberSec Training Hub'),
                                    React.createElement('p', { 
                                        className: 'text-sm',
                                        style: { color: themedStyles.mutedText }
                                    }, '12 Comprehensive Cybersecurity Courses')
                                )
                            ),
                            React.createElement('div', { className: 'flex items-center space-x-6' },
                                React.createElement('div', { className: 'text-center' },
                                    React.createElement('div', { 
                                        className: 'text-2xl font-bold',
                                        style: { color: themedStyles.accentColor }
                                    }, getTotalScore()),
                                    React.createElement('div', { 
                                        className: 'text-xs',
                                        style: { color: themedStyles.mutedText }
                                    }, 'Total Score')
                                ),
                                React.createElement('div', { className: 'text-center' },
                                    React.createElement('div', { 
                                        className: 'text-2xl font-bold',
                                        style: { color: themedStyles.accentColor }
                                    }, getOverallProgress() + '%'),
                                    React.createElement('div', { 
                                        className: 'text-xs',
                                        style: { color: themedStyles.mutedText }
                                    }, 'Progress')
                                ),
                                React.createElement('div', { className: 'text-center' },
                                    React.createElement('div', { 
                                        className: 'text-2xl font-bold',
                                        style: { color: themedStyles.accentColor }
                                    }, filteredModules.length),
                                    React.createElement('div', { 
                                        className: 'text-xs',
                                        style: { color: themedStyles.mutedText }
                                    }, 'Courses')
                                )
                            )
                        )
                    )
                ),

                // Filters and Search Section
                React.createElement('div', { 
                    className: 'border-b',
                    style: { 
                        background: themedStyles.cardBg,
                        borderBottomColor: themedStyles.borderColor,
                        backdropFilter: 'blur(10px)'
                    }
                },
                    React.createElement('div', { className: 'max-w-7xl mx-auto px-6 py-6' },
                        React.createElement('div', { className: 'flex flex-col lg:flex-row gap-6 items-start lg:items-center justify-between' },
                            // Search Bar
                            React.createElement('div', { className: 'flex-1 max-w-md' },
                                React.createElement('div', { className: 'relative' },
                                    React.createElement('input', {
                                        type: 'text',
                                        placeholder: 'Search courses...',
                                        value: searchTerm,
                                        onChange: (e) => setSearchTerm(e.target.value),
                                        className: 'w-full pl-10 pr-4 py-3 rounded-lg border focus:outline-none focus:ring-2',
                                        style: {
                                            background: themedStyles.cardBg,
                                            borderColor: themedStyles.borderColor,
                                            color: themedStyles.textColor,
                                            focusRingColor: themedStyles.accentColor
                                        }
                                    }),
                                    React.createElement('div', { className: 'absolute left-3 top-3.5' },
                                        React.createElement('svg', { 
                                            className: 'h-5 w-5',
                                            style: { color: themedStyles.mutedText },
                                            fill: 'none',
                                            stroke: 'currentColor',
                                            viewBox: '0 0 24 24'
                                        },
                                            React.createElement('path', {
                                                strokeLinecap: 'round',
                                                strokeLinejoin: 'round',
                                                strokeWidth: 2,
                                                d: 'M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z'
                                            })
                                        )
                                    )
                                )
                            ),

                            // Difficulty Filter Buttons
                            React.createElement('div', { className: 'flex items-center space-x-3' },
                                React.createElement(Filter, { 
                                    className: 'h-5 w-5',
                                    style: { color: themedStyles.accentColor }
                                }),
                                React.createElement('div', { className: 'flex space-x-2' },
                                    ['all', 'Beginner', 'Intermediate', 'Advanced'].map(level =>
                                        React.createElement('button', {
                                            key: level,
                                            onClick: () => setDifficultyFilter(level),
                                            className: `px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 border`,
                                            style: difficultyFilter === level ? {
                                                background: themedStyles.accentColor,
                                                color: theme === 'dark' ? '#000000' : '#ffffff',
                                                borderColor: themedStyles.accentColor
                                            } : {
                                                background: themedStyles.cardBg,
                                                color: themedStyles.textColor,
                                                borderColor: themedStyles.borderColor
                                            }
                                        },
                                            level === 'all' ? 'All Levels' : level,
                                            level !== 'all' && React.createElement('span', { 
                                                className: 'ml-2 px-2 py-1 rounded text-xs',
                                                style: {
                                                    background: 'rgba(0, 0, 0, 0.1)',
                                                    color: difficultyFilter === level ? 
                                                        (theme === 'dark' ? '#000000' : '#ffffff') : 
                                                        themedStyles.accentColor
                                                }
                                            }, getDifficultyStats()[level])
                                        )
                                    )
                                )
                            )
                        )
                    )
                ),

                // Main Content
                React.createElement('div', { className: 'max-w-7xl mx-auto px-6 py-8' },
                    React.createElement('div', { className: 'grid lg:grid-cols-4 gap-8' },
                        // Training Modules Section
                        React.createElement('div', { className: 'lg:col-span-3' },
                            React.createElement('div', { className: 'flex items-center justify-between mb-6' },
                                React.createElement('h2', { 
                                    className: 'text-3xl font-bold',
                                    style: { 
                                        background: `linear-gradient(to right, ${themedStyles.textColor}, ${themedStyles.accentColor})`,
                                        WebkitBackgroundClip: 'text',
                                        WebkitTextFillColor: 'transparent',
                                        backgroundClip: 'text'
                                    }
                                }, 'Training Courses'),
                                React.createElement('div', { 
                                    className: 'text-sm px-3 py-1 rounded-full border',
                                    style: {
                                        background: themedStyles.cardBg,
                                        borderColor: themedStyles.borderColor,
                                        color: themedStyles.accentColor
                                    }
                                }, `${filteredModules.length} courses found`)
                            ),
                            
                            React.createElement('div', { className: 'grid md:grid-cols-2 gap-6' },
                                filteredModules.map(([key, module]) => {
                                    const progress = userProgress[key];
                                    const progressPercent = (progress.completed / progress.total) * 100;
                                    
                                    return React.createElement('div', { 
                                        key: key, 
                                        className: 'backdrop-blur-sm rounded-xl border p-6 transition-all duration-300 hover:shadow-lg hover:transform hover:scale-105',
                                        style: {
                                            background: themedStyles.cardBg,
                                            borderColor: themedStyles.borderColor,
                                            boxShadow: `0 0 20px ${themedStyles.borderColor}`
                                        }
                                    },
                                        // Course Header
                                        React.createElement('div', { className: 'flex items-start justify-between mb-4' },
                                            React.createElement('div', { className: 'flex items-center space-x-4' },
                                                React.createElement('div', { className: module.color + ' p-3 rounded-lg' },
                                                    React.createElement(module.icon, { className: 'h-6 w-6 text-white' })
                                                ),
                                                React.createElement('div', { className: 'flex-1' },
                                                    React.createElement('h3', { 
                                                        className: 'text-xl font-semibold mb-1',
                                                        style: { color: themedStyles.textColor }
                                                    }, module.title),
                                                    React.createElement('div', { className: 'flex items-center space-x-3 mb-2' },
                                                        React.createElement('span', { 
                                                            className: `text-xs px-2 py-1 rounded-full border ${getDifficultyColor(module.difficulty)}` 
                                                        }, module.difficulty),
                                                        React.createElement('span', { 
                                                            className: 'text-xs flex items-center space-x-1',
                                                            style: { color: themedStyles.mutedText }
                                                        },
                                                            React.createElement('svg', { 
                                                                className: 'h-3 w-3',
                                                                fill: 'none',
                                                                stroke: 'currentColor',
                                                                viewBox: '0 0 24 24'
                                                            },
                                                                React.createElement('circle', { cx: '12', cy: '12', r: '10' }),
                                                                React.createElement('polyline', { points: '12,6 12,12 16,14' })
                                                            ),
                                                            React.createElement('span', null, module.duration)
                                                        )
                                                    ),
                                                    React.createElement('p', { 
                                                        className: 'text-sm',
                                                        style: { color: themedStyles.mutedText }
                                                    }, module.description)
                                                )
                                            ),
                                            React.createElement('div', { className: 'text-right' },
                                                React.createElement('div', { 
                                                    className: 'text-2xl font-bold',
                                                    style: { color: themedStyles.accentColor }
                                                }, progress.score + '%'),
                                                React.createElement('div', { 
                                                    className: 'text-xs',
                                                    style: { color: themedStyles.mutedText }
                                                }, 'Best Score')
                                            )
                                        ),
                                        
                                        // Progress Bar
                                        React.createElement('div', { className: 'mb-4' },
                                            React.createElement('div', { 
                                                className: 'flex justify-between text-sm mb-2',
                                                style: { color: themedStyles.mutedText }
                                            },
                                                React.createElement('span', null, `Progress: ${progress.completed}/${progress.total} lessons`),
                                                React.createElement('span', null, Math.round(progressPercent) + '%')
                                            ),
                                            React.createElement('div', { 
                                                className: 'w-full rounded-full h-2',
                                                style: { backgroundColor: themedStyles.secondaryBg }
                                            },
                                                React.createElement('div', { 
                                                    className: 'h-2 rounded-full transition-all duration-500',
                                                    style: { 
                                                        width: progressPercent + '%',
                                                        background: `linear-gradient(to right, ${themedStyles.accentColor}, #0080ff)`,
                                                        boxShadow: `0 0 10px ${themedStyles.accentColor}`
                                                    }
                                                })
                                            )
                                        ),

                                        // Quick Stats
                                        React.createElement('div', { className: 'grid grid-cols-2 gap-4 mb-4 text-sm' },
                                            React.createElement('div', { className: 'flex items-center space-x-2' },
                                                React.createElement('svg', { 
                                                    className: 'h-4 w-4',
                                                    style: { color: themedStyles.mutedText },
                                                    fill: 'none',
                                                    stroke: 'currentColor',
                                                    viewBox: '0 0 24 24'
                                                },
                                                    React.createElement('path', {
                                                        strokeLinecap: 'round',
                                                        strokeLinejoin: 'round',
                                                        strokeWidth: 2,
                                                        d: 'M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253'
                                                    })
                                                ),
                                                React.createElement('span', { 
                                                    style: { color: themedStyles.textColor }
                                                }, `${progress.total} Lessons`)
                                            ),
                                            React.createElement('div', { className: 'flex items-center space-x-2' },
                                                React.createElement(Trophy, { 
                                                    className: 'h-4 w-4',
                                                    style: { color: themedStyles.mutedText }
                                                }),
                                                React.createElement('span', { 
                                                    style: { color: themedStyles.textColor }
                                                }, 'Certificate')
                                            )
                                        ),

                                        // Action Buttons
                                        React.createElement('div', { className: 'flex space-x-3' },
                                            React.createElement('button', { 
                                                onClick: () => setActiveModule(key),
                                                className: 'flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-lg transition-all duration-200 font-semibold text-sm',
                                                style: {
                                                    background: `linear-gradient(to right, ${themedStyles.accentColor}, #0080ff)`,
                                                    color: theme === 'dark' ? '#000000' : '#ffffff'
                                                }
                                            },
                                                React.createElement(Play, { className: 'h-4 w-4' }),
                                                React.createElement('span', null, progress.completed > 0 ? 'Continue' : 'Start Course')
                                            ),
                                            React.createElement('button', { 
                                                onClick: () => startQuiz(key),
                                                disabled: !quizzes[key],
                                                className: 'px-4 py-3 rounded-lg transition-all duration-200 border text-sm font-semibold',
                                                style: quizzes[key] ? {
                                                    background: themedStyles.cardBg,
                                                    borderColor: themedStyles.accentColor,
                                                    color: themedStyles.accentColor
                                                } : {
                                                    background: themedStyles.cardBg,
                                                    borderColor: themedStyles.mutedText,
                                                    color: themedStyles.mutedText,
                                                    cursor: 'not-allowed'
                                                }
                                            },
                                                React.createElement(Trophy, { className: 'h-4 w-4' })
                                            )
                                        )
                                    );
                                })
                            )
                        ),

                        // Sidebar
                        React.createElement('div', { className: 'lg:col-span-1 space-y-6' },
                            // Learning Path Overview
                            React.createElement('div', { 
                                className: 'backdrop-blur-sm rounded-xl border p-6',
                                style: {
                                    background: themedStyles.cardBg,
                                    borderColor: themedStyles.borderColor
                                }
                            },
                                React.createElement('h3', { 
                                    className: 'text-xl font-semibold mb-4 flex items-center space-x-2',
                                    style: { color: themedStyles.textColor }
                                },
                                    React.createElement('svg', { 
                                        className: 'h-5 w-5',
                                        style: { color: themedStyles.accentColor },
                                        fill: 'none',
                                        stroke: 'currentColor',
                                        viewBox: '0 0 24 24'
                                    },
                                        React.createElement('path', {
                                            strokeLinecap: 'round',
                                            strokeLinejoin: 'round',
                                            strokeWidth: 2,
                                            d: 'M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7'
                                        })
                                    ),
                                    React.createElement('span', null, 'Learning Path')
                                ),
                                React.createElement('div', { className: 'space-y-3' },
                                    ['Beginner', 'Intermediate', 'Advanced'].map(level => {
                                        const levelModules = Object.values(modules).filter(m => m.difficulty === level);
                                        const completedInLevel = levelModules.reduce((sum, m, index) => {
                                            const moduleKey = Object.keys(modules)[Object.values(modules).indexOf(m)];
                                            return sum + (userProgress[moduleKey]?.completed || 0);
                                        }, 0);
                                        const totalInLevel = levelModules.reduce((sum, m) => sum + m.lessons.length, 0);
                                        const levelProgress = Math.round((completedInLevel / totalInLevel) * 100);
                                        
                                        return React.createElement('div', { 
                                            key: level,
                                            className: 'rounded-lg p-4 border',
                                            style: {
                                                background: themedStyles.cardBg,
                                                borderColor: themedStyles.borderColor
                                            }
                                        },
                                            React.createElement('div', { className: 'flex justify-between items-center mb-2' },
                                                React.createElement('span', { 
                                                    className: `font-medium`,
                                                    style: { 
                                                        color: level === 'Beginner' ? (theme === 'dark' ? '#10b981' : '#059669') :
                                                               level === 'Intermediate' ? (theme === 'dark' ? '#f97316' : '#d97706') :
                                                               (theme === 'dark' ? '#ef4444' : '#dc2626')
                                                    }
                                                }, level),
                                                React.createElement('span', { 
                                                    className: 'text-sm',
                                                    style: { color: themedStyles.accentColor }
                                                }, levelProgress + '%')
                                            ),
                                            React.createElement('div', { 
                                                className: 'w-full rounded-full h-1.5 mb-2',
                                                style: { backgroundColor: themedStyles.secondaryBg }
                                            },
                                                React.createElement('div', { 
                                                    className: 'h-1.5 rounded-full transition-all duration-500',
                                                    style: { 
                                                        width: levelProgress + '%',
                                                        background: level === 'Beginner' ? (theme === 'dark' ? '#10b981' : '#059669') : 
                                                                   level === 'Intermediate' ? (theme === 'dark' ? '#f97316' : '#d97706') : 
                                                                   (theme === 'dark' ? '#ef4444' : '#dc2626')
                                                    }
                                                })
                                            ),
                                            React.createElement('div', { 
                                                className: 'text-xs',
                                                style: { color: themedStyles.mutedText }
                                            },
                                                `${levelModules.length} courses ‚Ä¢ ${completedInLevel}/${totalInLevel} lessons`
                                            )
                                        );
                                    })
                                )
                            ),

                            // Leaderboard
                            React.createElement('div', { 
                                className: 'backdrop-blur-sm rounded-xl border p-6',
                                style: {
                                    background: themedStyles.cardBg,
                                    borderColor: themedStyles.borderColor
                                }
                            },
                                React.createElement('h3', { 
                                    className: 'text-xl font-semibold mb-4 flex items-center space-x-2',
                                    style: { color: themedStyles.textColor }
                                },
                                    React.createElement(Trophy, { 
                                        className: 'h-5 w-5',
                                        style: { color: themedStyles.accentColor }
                                    }),
                                    React.createElement('span', null, 'Leaderboard')
                                ),
                                React.createElement('div', { className: 'space-y-3' },
                                    leaderboard.map((user, index) =>
                                        React.createElement('div', { 
                                            key: index, 
                                            className: 'flex items-center justify-between',
                                            style: { color: themedStyles.textColor }
                                        },
                                            React.createElement('div', { className: 'flex items-center space-x-3' },
                                                React.createElement('div', { 
                                                    className: `w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold`,
                                                    style: {
                                                        backgroundColor: index === 0 ? themedStyles.accentColor : themedStyles.secondaryBg,
                                                        color: index === 0 ? (theme === 'dark' ? '#000000' : '#ffffff') : themedStyles.accentColor,
                                                        border: index === 0 ? 'none' : `1px solid ${themedStyles.accentColor}`
                                                    }
                                                }, index + 1),
                                                React.createElement('div', null,
                                                    React.createElement('div', { 
                                                        className: 'font-medium',
                                                        style: { color: themedStyles.textColor }
                                                    }, user.name),
                                                    React.createElement('div', { 
                                                        className: 'text-xs',
                                                        style: { color: themedStyles.mutedText }
                                                    }, 'Expert Level')
                                                )
                                            ),
                                            React.createElement('div', { 
                                                className: 'font-bold',
                                                style: { color: themedStyles.accentColor }
                                            }, user.score)
                                        )
                                    )
                                )
                            ),

                            // Quick Stats
                            React.createElement('div', { 
                                className: 'backdrop-blur-sm rounded-xl border p-6',
                                style: {
                                    background: themedStyles.cardBg,
                                    borderColor: themedStyles.borderColor
                                }
                            },
                                React.createElement('h3', { 
                                    className: 'text-xl font-semibold mb-4',
                                    style: { color: themedStyles.textColor }
                                }, 'Your Progress'),
                                React.createElement('div', { className: 'space-y-4' },
                                    React.createElement('div', { className: 'flex items-center justify-between' },
                                        React.createElement('span', { 
                                            style: { color: themedStyles.textColor }
                                        }, 'Courses Started'),
                                        React.createElement('span', { 
                                            className: 'font-bold',
                                            style: { color: themedStyles.accentColor }
                                        },
                                            Object.values(userProgress).filter(p => p.completed > 0).length + '/12'
                                        )
                                    ),
                                    React.createElement('div', { className: 'flex items-center justify-between' },
                                        React.createElement('span', { 
                                            style: { color: themedStyles.textColor }
                                        }, 'Lessons Completed'),
                                        React.createElement('span', { 
                                            className: 'font-bold',
                                            style: { color: themedStyles.accentColor }
                                        },
                                            Object.values(userProgress).reduce((sum, module) => sum + module.completed, 0) + '/' +
                                            Object.values(userProgress).reduce((sum, module) => sum + module.total, 0)
                                        )
                                    ),
                                    React.createElement('div', { className: 'flex items-center justify-between' },
                                        React.createElement('span', { 
                                            style: { color: themedStyles.textColor }
                                        }, 'Average Score'),
                                        React.createElement('span', { 
                                            className: 'font-bold',
                                            style: { color: themedStyles.accentColor }
                                        },
                                            Math.round(getTotalScore() / Object.keys(modules).length) + '%'
                                        )
                                    ),
                                    React.createElement('div', { className: 'flex items-center justify-between' },
                                        React.createElement('span', { 
                                            style: { color: themedStyles.textColor }
                                        }, 'Global Rank'),
                                        React.createElement('span', { 
                                            className: 'font-bold',
                                            style: { color: themedStyles.accentColor }
                                        }, '#6')
                                    )
                                )
                            ),

                            // Daily Tip
                            React.createElement('div', { 
                                className: 'backdrop-blur-sm rounded-xl border p-6',
                                style: {
                                    background: themedStyles.cardBg,
                                    borderColor: themedStyles.borderColor
                                }
                            },
                                React.createElement('h3', { 
                                    className: 'text-xl font-semibold mb-4 flex items-center space-x-2',
                                    style: { color: themedStyles.textColor }
                                },
                                    React.createElement(Zap, { 
                                        className: 'h-5 w-5',
                                        style: { color: themedStyles.accentColor }
                                    }),
                                    React.createElement('span', null, 'Security Tip')
                                ),
                                React.createElement('div', { 
                                    className: 'rounded-lg p-4 border',
                                    style: {
                                        background: theme === 'dark' 
                                            ? 'rgba(0, 255, 255, 0.1)' 
                                            : 'rgba(8, 145, 178, 0.1)',
                                        borderColor: themedStyles.borderColor
                                    }
                                },
                                    React.createElement('div', { className: 'flex items-start space-x-3' },
                                        React.createElement(AlertTriangle, { 
                                            className: 'h-5 w-5 mt-0.5',
                                            style: { color: themedStyles.accentColor }
                                        }),
                                        React.createElement('div', null,
                                            React.createElement('div', { 
                                                className: 'font-medium mb-1',
                                                style: { color: themedStyles.accentColor }
                                            }, 'Multi-Factor Authentication'),
                                            React.createElement('p', { 
                                                className: 'text-sm',
                                                style: { color: themedStyles.textColor }
                                            },
                                                'Enable 2FA on all your accounts. Even if your password is compromised, MFA provides an additional security layer.'
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                ),

                // Quiz Modal
                currentQuiz && React.createElement('div', { className: 'fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50' },
                    React.createElement('div', { 
                        className: 'rounded-xl border max-w-2xl w-full',
                        style: {
                            background: themedStyles.cardBg,
                            borderColor: themedStyles.borderColor
                        }
                    },
                        React.createElement('div', { className: 'p-6' },
                            React.createElement('div', { className: 'flex items-center justify-between mb-6' },
                                React.createElement('h2', { 
                                    className: 'text-2xl font-bold',
                                    style: { color: themedStyles.textColor }
                                }, currentQuiz.title),
                                React.createElement('button', { 
                                    onClick: () => setCurrentQuiz(null),
                                    className: 'text-2xl hover:opacity-70 transition-opacity',
                                    style: { color: themedStyles.mutedText }
                                }, '‚úï')
                            ),
                            
                            !showResults ? React.createElement('div', { className: 'space-y-6' },
                                currentQuiz.questions.map((question, qIndex) =>
                                    React.createElement('div', { 
                                        key: qIndex, 
                                        className: 'rounded-lg p-4 border',
                                        style: {
                                            background: themedStyles.secondaryBg,
                                            borderColor: themedStyles.borderColor
                                        }
                                    },
                                        React.createElement('h3', { 
                                            className: 'font-semibold mb-4',
                                            style: { color: themedStyles.textColor }
                                        },
                                            `Question ${qIndex + 1}: ${question.question}`
                                        ),
                                        React.createElement('div', { className: 'space-y-2' },
                                            question.options.map((option, oIndex) =>
                                                React.createElement('label', { 
                                                    key: oIndex, 
                                                    className: 'flex items-center space-x-3 cursor-pointer p-2 rounded transition-colors',
                                                    style: {
                                                        ':hover': { backgroundColor: 'rgba(0, 0, 0, 0.05)' }
                                                    },
                                                    onMouseEnter: (e) => {
                                                        e.target.style.backgroundColor = theme === 'dark' 
                                                            ? 'rgba(255, 255, 255, 0.05)' 
                                                            : 'rgba(0, 0, 0, 0.05)';
                                                    },
                                                    onMouseLeave: (e) => {
                                                        e.target.style.backgroundColor = 'transparent';
                                                    }
                                                },
                                                    React.createElement('input', {
                                                        type: 'radio',
                                                        name: `question-${qIndex}`,
                                                        value: oIndex,
                                                        onChange: () => handleQuizAnswer(qIndex, oIndex),
                                                        style: { accentColor: themedStyles.accentColor }
                                                    }),
                                                    React.createElement('span', { 
                                                        style: { color: themedStyles.textColor }
                                                    }, option)
                                                )
                                            )
                                        )
                                    )
                                ),
                                
                                React.createElement('button', { 
                                    onClick: submitQuiz,
                                    disabled: Object.keys(quizAnswers).length < currentQuiz.questions.length,
                                    className: 'w-full px-6 py-3 rounded-lg font-semibold transition-all duration-200',
                                    style: Object.keys(quizAnswers).length < currentQuiz.questions.length ? {
                                        background: themedStyles.mutedText,
                                        color: theme === 'dark' ? '#000000' : '#ffffff',
                                        cursor: 'not-allowed',
                                        opacity: 0.6
                                    } : {
                                        background: `linear-gradient(to right, ${themedStyles.accentColor}, #0080ff)`,
                                        color: theme === 'dark' ? '#000000' : '#ffffff'
                                    }
                                }, 'Submit Quiz')
                            ) : React.createElement('div', { className: 'text-center space-y-6' },
                                React.createElement('div', { className: 'text-6xl' }, 'üéâ'),
                                React.createElement('h3', { 
                                    className: 'text-2xl font-bold',
                                    style: { color: themedStyles.textColor }
                                }, 'Quiz Completed!'),
                                React.createElement('div', { 
                                    className: 'text-4xl font-bold',
                                    style: { color: themedStyles.accentColor }
                                },
                                    Math.round((Object.keys(quizAnswers).filter(q => quizAnswers[q] === currentQuiz.questions[q].correct).length / currentQuiz.questions.length) * 100) + '%'
                                ),
                                React.createElement('p', { 
                                    style: { color: themedStyles.textColor }
                                },
                                    `You got ${Object.keys(quizAnswers).filter(q => quizAnswers[q] === currentQuiz.questions[q].correct).length} out of ${currentQuiz.questions.length} questions correct!`
                                ),
                                React.createElement('button', { 
                                    onClick: () => setCurrentQuiz(null),
                                    className: 'px-6 py-3 rounded-lg font-semibold transition-all duration-200',
                                    style: {
                                        background: `linear-gradient(to right, ${themedStyles.accentColor}, #0080ff)`,
                                        color: theme === 'dark' ? '#000000' : '#ffffff'
                                    }
                                }, 'Continue Training')
                            )
                        )
                    )
                ),

                // Module Detail Modal
                activeModule && React.createElement('div', { className: 'fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50' },
                    React.createElement('div', { 
                        className: 'rounded-xl border max-w-3xl w-full max-h-[80vh] overflow-y-auto',
                        style: {
                            background: themedStyles.cardBg,
                            borderColor: themedStyles.borderColor
                        }
                    },
                        React.createElement('div', { className: 'p-6' },
                            React.createElement('div', { className: 'flex items-center justify-between mb-6' },
                                React.createElement('div', { className: 'flex items-center space-x-4' },
                                    React.createElement('div', { className: modules[activeModule].color + ' p-3 rounded-lg' },
                                        React.createElement(modules[activeModule].icon, { className: 'h-6 w-6 text-white' })
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('h2', { 
                                            className: 'text-2xl font-bold',
                                            style: { color: themedStyles.textColor }
                                        }, modules[activeModule].title),
                                        React.createElement('div', { className: 'flex items-center space-x-3 mt-2' },
                                            React.createElement('span', { 
                                                className: `text-sm px-2 py-1 rounded-full border ${getDifficultyColor(modules[activeModule].difficulty)}` 
                                            }, modules[activeModule].difficulty),
                                            React.createElement('span', { 
                                                className: 'text-sm',
                                                style: { color: themedStyles.mutedText }
                                            }, modules[activeModule].duration)
                                        )
                                    )
                                ),
                                React.createElement('button', { 
                                    onClick: () => setActiveModule(null),
                                    className: 'text-2xl hover:opacity-70 transition-opacity',
                                    style: { color: themedStyles.mutedText }
                                }, '‚úï')
                            ),
                            
                            React.createElement('div', { className: 'mb-6' },
                                React.createElement('p', { 
                                    style: { color: themedStyles.textColor }
                                }, modules[activeModule].description)
                            ),

                            React.createElement('div', { className: 'space-y-4' },
                                modules[activeModule].lessons.map((lesson, index) =>
                                    React.createElement('div', { 
                                        key: index, 
                                        className: 'rounded-lg p-4 border transition-all duration-200',
                                        style: {
                                            background: themedStyles.secondaryBg,
                                            borderColor: themedStyles.borderColor
                                        },
                                        onMouseEnter: (e) => {
                                            e.currentTarget.style.backgroundColor = theme === 'dark' 
                                                ? 'rgba(255, 255, 255, 0.05)' 
                                                : 'rgba(0, 0, 0, 0.05)';
                                        },
                                        onMouseLeave: (e) => {
                                            e.currentTarget.style.backgroundColor = themedStyles.secondaryBg;
                                        }
                                    },
                                        React.createElement('div', { className: 'flex items-center justify-between' },
                                            React.createElement('div', { className: 'flex items-center space-x-4' },
                                                React.createElement('div', { 
                                                    className: `w-10 h-10 rounded-full flex items-center justify-center`,
                                                    style: index < userProgress[activeModule].completed ? {
                                                        background: themedStyles.accentColor,
                                                        color: theme === 'dark' ? '#000000' : '#ffffff'
                                                    } : index === userProgress[activeModule].completed ? {
                                                        background: themedStyles.secondaryBg,
                                                        border: `2px solid ${themedStyles.accentColor}`,
                                                        color: themedStyles.accentColor
                                                    } : {
                                                        background: themedStyles.mutedText,
                                                        color: theme === 'dark' ? '#000000' : '#ffffff'
                                                    }
                                                },
                                                    index < userProgress[activeModule].completed ? 
                                                        React.createElement(CheckCircle, { className: 'h-5 w-5' }) :
                                                        React.createElement('span', { className: 'text-sm font-bold' }, index + 1)
                                                ),
                                                React.createElement('div', null,
                                                    React.createElement('span', { 
                                                        className: 'font-medium text-lg',
                                                        style: { color: themedStyles.textColor }
                                                    }, lesson),
                                                    React.createElement('div', { 
                                                        className: 'text-sm mt-1',
                                                        style: { color: themedStyles.mutedText }
                                                    },
                                                        `Lesson ${index + 1} ‚Ä¢ `,
                                                        index < userProgress[activeModule].completed ? 'Completed' :
                                                        index === userProgress[activeModule].completed ? 'Ready to start' : 'Locked'
                                                    )
                                                )
                                            ),
                                            React.createElement('div', { className: 'flex items-center space-x-3' },
                                                index < userProgress[activeModule].completed && React.createElement('div', { 
                                                    className: 'px-2 py-1 rounded text-xs',
                                                    style: {
                                                        background: theme === 'dark' 
                                                            ? 'rgba(0, 255, 255, 0.2)' 
                                                            : 'rgba(8, 145, 178, 0.2)',
                                                        color: themedStyles.accentColor
                                                    }
                                                }, 'Complete'),
                                                React.createElement('button', { 
                                                    onClick: () => {
                                                        if (index <= userProgress[activeModule].completed) {
                                                            setUserProgress(prev => ({
                                                                ...prev,
                                                                [activeModule]: {
                                                                    ...prev[activeModule],
                                                                    completed: Math.max(prev[activeModule].completed, index + 1)
                                                                }
                                                            }));
                                                        }
                                                    },
                                                    className: `px-4 py-2 rounded text-sm font-semibold transition-all duration-200`,
                                                    style: index < userProgress[activeModule].completed ? {
                                                        background: theme === 'dark' 
                                                            ? 'rgba(0, 255, 255, 0.2)' 
                                                            : 'rgba(8, 145, 178, 0.2)',
                                                        color: themedStyles.accentColor,
                                                        border: `1px solid ${themedStyles.accentColor}`
                                                    } : index === userProgress[activeModule].completed ? {
                                                        background: `linear-gradient(to right, ${themedStyles.accentColor}, #0080ff)`,
                                                        color: theme === 'dark' ? '#000000' : '#ffffff'
                                                    } : {
                                                        background: themedStyles.mutedText,
                                                        color: theme === 'dark' ? '#000000' : '#ffffff',
                                                        cursor: 'not-allowed',
                                                        opacity: 0.6
                                                    },
                                                    disabled: index > userProgress[activeModule].completed
                                                },
                                                    index < userProgress[activeModule].completed ? 'Review' : 
                                                    index === userProgress[activeModule].completed ? 'Start Lesson' : 'Locked'
                                                )
                                            )
                                        )
                                    )
                                )
                            ),

                            React.createElement('div', { 
                                className: 'mt-8 pt-6 border-t',
                                style: { borderColor: themedStyles.borderColor }
                            },
                                React.createElement('div', { className: 'grid md:grid-cols-2 gap-6' },
                                    React.createElement('div', { 
                                        className: 'rounded-lg p-4 border',
                                        style: {
                                            background: theme === 'dark' 
                                                ? 'rgba(0, 255, 255, 0.1)' 
                                                : 'rgba(8, 145, 178, 0.1)',
                                            borderColor: themedStyles.borderColor
                                        }
                                    },
                                        React.createElement('h4', { 
                                            className: 'font-semibold mb-2',
                                            style: { color: themedStyles.accentColor }
                                        }, 'Learning Objectives'),
                                        React.createElement('ul', { 
                                            className: 'text-sm space-y-1',
                                            style: { color: themedStyles.textColor }
                                        },
                                            modules[activeModule].lessons.slice(0, 3).map((lesson, idx) =>
                                                React.createElement('li', { key: idx }, `‚Ä¢ ${lesson}`)
                                            )
                                        )
                                    ),
                                    React.createElement('div', { 
                                        className: 'rounded-lg p-4 border',
                                        style: {
                                            background: themedStyles.secondaryBg,
                                            borderColor: themedStyles.borderColor
                                        }
                                    },
                                        React.createElement('h4', { 
                                            className: 'font-semibold mb-2',
                                            style: { color: themedStyles.textColor }
                                        }, 'Course Stats'),
                                        React.createElement('div', { 
                                            className: 'text-sm space-y-2',
                                            style: { color: themedStyles.textColor }
                                        },
                                            React.createElement('div', { className: 'flex justify-between' },
                                                React.createElement('span', null, 'Duration:'),
                                                React.createElement('span', null, modules[activeModule].duration)
                                            ),
                                            React.createElement('div', { className: 'flex justify-between' },
                                                React.createElement('span', null, 'Difficulty:'),
                                                React.createElement('span', null, modules[activeModule].difficulty)
                                            ),
                                            React.createElement('div', { className: 'flex justify-between' },
                                                React.createElement('span', null, 'Progress:'),
                                                React.createElement('span', null, Math.round((userProgress[activeModule].completed / userProgress[activeModule].total) * 100) + '%')
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            );
        };

        // Render the app
        ReactDOM.render(React.createElement(TrainingPortal), document.getElementById('root'));
    </script>
    <div class="incident-modal" id="incidentModal">
  <div class="incident-modal-content">
    <span class="close-btn" id="closeModal">&times;</span>
    <h2>üö® Report an Incident</h2>
    <p>Please provide details so we can take action quickly.</p>
     <form id="incident-form">
      <label>Title *</label>
      <input type="text" name="title" required placeholder="Phishing email to Finance inbox" />

      <div class="row">
        <div>
          <label>Reporter Email *</label>
          <input type="email" name="reporterEmail" required placeholder="you@company.com" />
        </div>
        <div>
          <label>Severity</label>
          <select name="severity">
            <option>low</option><option selected>medium</option><option>high</option><option>critical</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div>
          <label>Category</label>
          <select name="category">
            <option>phishing</option><option>malware</option><option>data_leak</option><option>other</option>
          </select>
        </div>
        <div>
          <label>Affected Asset</label>
          <input type="text" name="affectedAsset" placeholder="host01, user@company.com, system X" />
        </div>
      </div>

      <label>Description *</label>
      <textarea name="description" required placeholder="What happened? Include times, users, systems, URLs..."></textarea>

      <label>Evidence (max 5 files, 25MB each)</label>
      <input type="file" name="evidence" id="evidence" multiple />

      <div class="actions">
        <button type="submit" class="primary">Submit Incident</button>
        <button type="reset" class="muted">Reset</button>
      </div>

      <div id="success" class="success"></div>
      <div id="error" class="error"></div>
    </form>
    <!-- Chatbot Widget -->
<div id="chatbot-container">
  <div id="chatbot-header">
    <span>üí¨ CyberSP Chat</span>
    <button id="chatbot-close">&times;</button>
  </div>
  <div id="chatbot-messages"></div>
  <div id="chatbot-input">
    <input type="text" id="chatbot-text" placeholder="Ask a cybersecurity question..." />
    <button id="chatbot-send">Send</button>
  </div>
</div>

<!-- Chatbot Toggle Button -->
<button id="chatbot-toggle">üí¨</button>

</body>
</html>